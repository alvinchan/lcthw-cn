<html><head><title>引言: 笛卡尔的C 语言之梦</title><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><meta content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" name="generator"></meta><meta content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" name="originator"></meta><!-- index=1,2,next,fn-in,charset=utf-8,NoFonts,html --><meta content="learn-c-the-hard-way.tex" name="src"></meta><meta content="2012-04-11 11:32:00" name="date"></meta><link href="learn-c-the-hard-way.css" rel="stylesheet" type="text/css"></link></head><body>
    <!--l. 1--><div class="crosslinks"><p class="noindent">[<a href="learn-c-the-hard-waypa1.html">next</a>] [<a href="learn-c-the-hard-wayli2.html">prev</a>] [<a href="learn-c-the-hard-wayli2.html#taillearn-c-the-hard-wayli2.html">prev-tail</a>] [<a href="#taillearn-c-the-hard-wayli3.html">tail</a>] [<a href="learn-c-the-hard-way.html#learn-c-the-hard-wayli3.html">up</a>] </p></div>
    <h2 class="likechapterHead"><a id="x4-3000"></a>引言: 笛卡尔的C 语言之梦</h2>
        <div class="quotation">
     <!--l. 5--><p class="noindent">一切迄今我以为最接近于“真实”的东西都来自感觉和对感觉的传达。但是，我发现，这些东西常常欺骗我们。因此，唯一明智的是：
     再也不完全信赖那些哪怕仅仅欺骗过我们一次的东西。
     <!--l. 9--></p><p class="indent">                 (笛卡尔《第一哲学沉思集》)
        </p></div>
<!--l. 12--><p class="noindent">如果一定要找一段名人名言来描述 C 语言编程的话，那就是这一段了。对于很多程序员来说，这让 C 语言显得恐怖和邪恶。C 语言就是恶魔、撒旦、捣乱的洛基<span class="footnote-mark"><a href="#fn1x0" id="fn1x0-bk"><sup class="textsuperscript">1</sup></a></span><a id="x4-3001f1"></a>，
他用指针迷惑你，给你直接访问硬件的权力，从而毁掉你的工作效率。然后，一
旦这位路西法大人吸引你上了钩，他就会用邪恶的“segfault（段错误）”
毁掉你的世界，并在邪恶的笑声中让你知道你最终栽在了跟魔鬼的交易
里。
<!--l. 19--></p><p class="indent">    但是，造成这一切并不是 C 语言的过错。不，我的朋友，真正捣蛋的恶魔其实是你的计算机和操作系统。它们对你隐瞒了真实的内部工作原理，所以你从不曾真正了解到究竟发生了什么。而 C 语言唯一失败的地方，就是带你去了那些你看不到的地方，告诉你冷酷无情的真相。C 语言给了你一颗红药丸<span class="footnote-mark"><a href="#fn2x0" id="fn2x0-bk"><sup class="textsuperscript">2</sup></a></span><a id="x4-3002f2"></a>，
C 语言展示给你幕后的巫师。C 语言就是真相。
<!--l. 26--></p><p class="indent">    既然 C 语言如此危险，我们依然要用 C 呢？因为 C 能让你战胜抽象带来的虚假现实，并从愚蠢中将你解放出来。
                                                                  

                                                                  
    </p><h3 class="likesectionHead"><a id="x4-4000"></a>你将学到的东西</h3>
<!--l. 31--><p class="noindent">本书的目的是让你掌握足够的 C 语言，从而可以写自己的软件，或者修改别人的代码。
本书的结尾部分我们将从一本更著名的叫做"K&amp;R C"的书中节选一些代码出来，并让你用自己学到的东西进行代码审查(code review)。要达到这一程度，你需要学习一些东西：
<!--l. 35--></p><p class="indent">
     </p><ol class="enumerate1"><li class="enumerate" id="x4-4002x1">C 语言的基本语法和术语。
     </li>
     <li class="enumerate" id="x4-4004x2">编译、make 文件、连接器。
     </li>
     <li class="enumerate" id="x4-4006x3">找出 Bug 并防止 Bug 产生。
     </li>
     <li class="enumerate" id="x4-4008x4">防御性编程。
     </li>
     <li class="enumerate" id="x4-4010x5">将 C 代码改坏。
     </li>
     <li class="enumerate" id="x4-4012x6">编写基础的 Unix 系统程序。</li></ol><!--l. 44--><p class="indent">    完成本书的最后一章后，你应该已经拥有了足够的弹药来应对基本的系统软件、
库文件、以及小规模项目的撰写了。
<!--l. 48--></p><p class="noindent">
    </p><h3 class="likesectionHead"><a id="x4-5000"></a>如何阅读本书</h3>
<!--l. 50--><p class="noindent">本书是写给有至少学过一门编程语言的程序员的，如果你还没学过编程，我推荐你去看 <a href="http://learnpythonthehardway.org">Learn Python The Hard Way</a> 或者 <a href="http://ruby.learncodethehardway.org">Learn Ruby The Hard Way</a> 。这两本书是为初学
者写的，而且效果不错。学完其中一本后，你就可以回来对这本书开始下手
                                                                  

                                                                  
了。
<!--l. 55--></p><p class="indent">    对于已经学过编程的人来说，本书乍看上去似乎有些怪。别的书一般都是让你一段接着一段地读下去，然后断断续续地写一点代码，这本书完全不同。取而代之的是我要求你立即输入代码，然后我将告诉你刚才做了什么。解释你体验过的事情更容易一些，因此这种方式相对更好一些。
<!--l. 60--></p><p class="indent">    正因为本书结构这样特殊，你在看书时必须遵守一些规矩：
<!--l. 62--></p><p class="indent">
     </p><ol class="enumerate1"><li class="enumerate" id="x4-5002x1">键入所有的代码，禁止复制粘贴！
     </li>
     <li class="enumerate" id="x4-5004x2">一字不差地键入代码，即使是注释也一样。
     </li>
     <li class="enumerate" id="x4-5006x3">让程序运行起来，保证输出都和本书的相同。
     </li>
     <li class="enumerate" id="x4-5008x4">如果有 bug 就将其改正。
     </li>
     <li class="enumerate" id="x4-5010x5">做加分习题，有不会的也没关系，跳过就好了。
     </li>
     <li class="enumerate" id="x4-5012x6">在求助之前一定要确认你已经尽力了。</li></ol><!--l. 71--><p class="indent">    如果你遵从这些规则，完成了书里的所有作业，还是不会用 C 语言编程，那也没关系，因为你至少尝试过了。C 语言并不适合每个人，但尝试的过程也会让你变成一个更好的程序员。
<!--l. 75--></p><p class="noindent">
    </p><h3 class="likesectionHead"><a id="x4-6000"></a>关键技能</h3>
<!--l. 77--><p class="noindent">我猜你是从一门菜鸟语言来到这里的。
                                                                  

                                                                  
<span class="footnote-mark"><a href="#fn3x0" id="fn3x0-bk"><sup class="textsuperscript">3</sup></a></span><a id="x4-6001f3"></a>要么
你来自像Python 或者Ruby 这样“还算能用”的语言，这些语言让思维不清半吊子瞎
鼓捣的你也能写出能运行的程序来。要么你用过Lisp 这样的语言，这些语言假装计算
机是某个纯函数的仙境，四周还装了五彩的婴儿墙。也许你学过Prolog，因而认为整
个世界应该只是一个供你上下求索的数据库。更糟糕的还在后面呢，我打赌你
还用过某个IDE，所以你的脑子充满里记忆空洞，如果你不是每打三个字
母就按一次CTRL-SPACE 的话，我怕你连一个完整的函数名称都敲不出
来。
<!--l. 85--></p><p class="indent">    不管背景如何，你都可能有四样技能有待提高：
     </p><dl class="description"><dt class="description">
读写能力 </dt><dd class="description">如果你平时使用 IDE 的话，这一点就尤为正确。不过大体来说我发现程序员略读的时候太多了，从而导致理解性阅读能力有些问题。他们将代码扫视一遍就觉得自己读懂了，其实不然。其他的语言还提供了各种工具，从而避免让程序员直接撰写代码，所以一旦面对 C 语言这样的东西时，他们就立马崩溃了。最简单的办法就是要理解每个人都有这样的问题，解决方案就是强迫自己慢下来，倍加细致地去读写代码。一开始你也许会觉着很痛苦很烦躁，那就增加自己休息的频率，最后你会觉得这其实也很容易做到。
     </dd><dt class="description">
关注细节 </dt><dd class="description">这方面没有人能做得好，这也是劣质软件的最大成因。其他的语言会让不够专注的你蒙混过关，但 C 语言却要求你完全聚精会神，因为 C 语言直接和计算机打交道，而计算机硬件又是极其挑剔的。在 C 的语境中没有
    “有点像”或是“差不多”这样的说法，所以你需要专注。反复检查你的工作。在证明正确之前，要先假设一切都可能是错的。
     </dd><dt class="description">
发现差异 </dt><dd class="description">从别的语言来的程序员有一个问题，就是他们的大脑已经被训练成可以发现那种语言中的差异，而不是 C 语言中的差异。当你在对比你的代码和标准答案时，你的视线会直接跳过那写你认为不重要或不熟悉的部分。
     我给你的解决办法是：强迫自己观察自己的错误，如果你的代码跟标准答案不是一字不差，那它就是错的。
     </dd><dt class="description">
                                                                  

                                                                  
规划和除错 </dt><dd class="description">我喜欢其他更简单的语言，因为我可以胡搞乱来。我把想法打出来，然后就能直接在编译器里看到结果。这些语言可以让你很方便地尝试新的主意，但你有没有发现呢：如果你一直用“乱改直到能用”的方法写代码，到头来就是什么都不能用了。C 语言对你要求比较高，因为它要求你先计划好要创建的东西。当然你也可以偶尔瞎搞搞，但和其他语言相比，你需要在更早的阶段就开始认真做计划。在你写代码之前，我会教你如何规划程序的关键部分，希望这能同时使你成为一个更优秀的程序员。
     即使是微小的计划也能让你的后续工作更为顺利。</dd></dl><!--l. 117--><p class="indent">    在学习 C 语言的过程中，你将被迫更早地、更多地应对这些问题，所以学习 C 语言更能让你成为一个好程序员。你不能思维不清半吊子地瞎鼓捣，否则什么都不会做出来。C 语言的优势是作为一门简单的语言，你可以自己把它弄明白，所以如果你要学习机器的工作原理，并增强这些关键的编程技能的话，C 语言是上佳的选择。
<!--l. 122--></p><p class="indent">    C 语言比一些其他的语言难学一些，但这只是因为 C 语言做到了不对你隐藏机器的工作原理，其他语言试图对工作原理进行模糊处理，这也是其他处理失败的地方。
<!--l. 125--></p><p class="noindent">
    </p><h3 class="likesectionHead"><a id="x4-7000"></a>协议</h3>
<!--l. 127--><p class="noindent">本书可以免费阅读，但在我完成修改之前，你不能进行分发或做任何修改。我得保证别把一本没完成的书传出去，以免不小心误人子弟。
                                                                  

                                                                  
                                                                  

                                                                  
    </p><div class="footnotes"><!--l. 14--><p class="indent">  <span class="footnote-mark"><a href="#fn1x0-bk" id="fn1x0"><sup class="textsuperscript">1</sup></a></span>译注：洛基是北欧神话里的火神，以惹是生非闻名。撒旦和路西法都是恶魔的名称
<!--l. 23--></p><p class="indent">  <span class="footnote-mark"><a href="#fn2x0-bk" id="fn2x0"><sup class="textsuperscript">2</sup></a></span>译注：《黑客帝国》典故，选择红药丸让主角层层深入探求真相，蓝药丸让主角继续醉生梦死。
<!--l. 78--></p><p class="indent">  <span class="footnote-mark"><a href="#fn3x0-bk" id="fn3x0"><sup class="textsuperscript">3</sup></a></span>我只是在挑逗你而已，如果你能看得出来的话                   </p></div>
<!--l. 24--><div class="crosslinks"><p class="noindent">[<a href="learn-c-the-hard-waypa1.html">next</a>] [<a href="learn-c-the-hard-wayli2.html">prev</a>] [<a href="learn-c-the-hard-wayli2.html#taillearn-c-the-hard-wayli2.html">prev-tail</a>] [<a href="learn-c-the-hard-wayli3.html">front</a>] [<a href="learn-c-the-hard-way.html#learn-c-the-hard-wayli3.html">up</a>] </p></div>
<!--l. 24--><p class="indent">    <a id="taillearn-c-the-hard-wayli3.html"></a>   
</p></body></html>